<!DOCTYPE html>
<html lang="zh">
    <head>
    <meta charset="UTF-8">

    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="generator" content="Hugo 0.72.0" />

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <meta name="format-detection" content="telephone=no, date=no, address=no, email=no" />
    
    <meta http-equiv="Cache-Control" content="no-transform" />
    
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/css/remixicon/remixicon.css"><link rel="stylesheet" href="/css/tony.min.2cd909c3b2b4f0eb1f6b8dbe02a8be4ed8a7456895a39f284818ed1e771073c6.css" integrity="sha256-LNkJw7K08Osfa42+Aqi+TtinRWiVo58oSBjtHncQc8Y="/>

    <link rel="shortcut icon" href="http://img1.imgtn.bdimg.com/it/u=2050718074,2296818643&amp;fm=26&amp;gp=0.jpg" type="image/x-icon" />
    <title>node.js</title>

    <meta name="author" content="This is Janny" /><meta name="description" content="" />

    
    <link rel="canonical" href="https://jannyluo.github.io/categories/node.js/" />

</head>

    <header id="header-div" class="tony-header-fixed">

    <div class="header-div1">
        <a href="https://jannyluo.github.io" style="display:inline-block;">
            <img src="http://img1.imgtn.bdimg.com/it/u=2050718074,2296818643&amp;fm=26&amp;gp=0.jpg">
        </a>
    </div>
    <div class="header-div2">
    <a href="/"><button class="btn btn-light">Home</button></a>
    <a href="/about/"><button class="btn btn-light">About</button></a>
    
</div>
</header>
    <body>
        <div id="index">
            <div class="grid grid-centered" style="max-width: 660px; padding: 0px 20px; margin-top: 80px;">
                <div id="grid-cell" class="grid-cell">
                    
                    
                    <div id="header_info" class="index-top">
    <nav class="header-nav reveal">
        <div class="cate-nav">
            <div>
                <a href="/" title="TonyHe" class="header-logo" style="text-decoration: none;">node.js</a>
            </div>
            <div>
                <a href="/" class="nuxt-link-active">
                    <button type="button" class="btn cate-back btn-primary">
                        <i class="ri-arrow-left-line"></i>
                        Back To Home
                    </button>
                </a>
            </div>
        </div>
    </nav>
    
        <div class="index-cates">
            
                <a href="/categories/problem" class="" title="Problem">
                    <li class="cat-item cat-item-4 cat-real" style="display: inline-block;">
                        <div class="header-item-icon-div">
                            <i class="ri-code-box-line"></i>
                        </div>
                        Problem
                    </li>
                                </a>
            
                <a href="/categories/notes" class="" title="Notes">
                    <li class="cat-item cat-item-4 cat-real" style="display: inline-block;">
                        <div class="header-item-icon-div">
                            <i class="ri-code-box-line"></i>
                        </div>
                        Notes
                    </li>
                                </a>
            
                <a href="/categories/mini" class="" title="小程序笔记">
                    <li class="cat-item cat-item-4 cat-real" style="display: inline-block;">
                        <div class="header-item-icon-div">
                            <i class="ri-code-box-line"></i>
                        </div>
                        小程序笔记
                    </li>
                                </a>
            
                <a href="/categories/node.js" class="" title="Node.js">
                    <li class="cat-item cat-item-4 cat-real" style="display: inline-block;">
                        <div class="header-item-icon-div">
                            <i class="ri-code-box-line"></i>
                        </div>
                        Node.js
                    </li>
                                </a>
            
                        </div>
    
</div>
                    <ul class="article-list">
                    
                        <li class="article-list-item reveal index-post-list">
                            <a href="/post/node.js%E4%B8%AD%E7%9A%84%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E/" style="text-decoration: none;">
                                <h5 style="margin: 15px 0px 0px; padding: 0px;">
                                    Node.js中的模板引擎
                                </h5>
                            </a>
                            <p>
                                 安装 npm install art-template 使用  Var template=require(‘art-template’) Var fs=reqiure(‘fs’) Fs.readfile(‘./tpl.html’,function(err,data){ If(err){ } Var ret=template.render(data.toString(),{ Name:’jack’, Age:’18’, Province:’Beijing’, Hobbies:[ ‘写代码’， ’唱歌’， ‘打游戏’] }) Tpl.html的内容：
大家好，我叫:{{ name }} 我今年：{{ age }} 我来自： {{ province }} 我喜欢： {{ each hobbies }} {{ $value }} {{/each}}  模板引擎不关心内容，只关心{{ }}  ...
                            </p>
                            <div class="article-list-footer">
                                <span class="article-list-date">
                                    18-06-20
                                </span>
                            </div>
                        </li>
                    
                        <li class="article-list-item reveal index-post-list">
                            <a href="/post/node.js%E4%B8%AD%E7%9A%84%E7%9B%AE%E5%BD%95%E6%B8%B2%E6%9F%93/" style="text-decoration: none;">
                                <h5 style="margin: 15px 0px 0px; padding: 0px;">
                                    Node.js中的目录渲染
                                </h5>
                            </a>
                            <p>
                                 在模板template.html中需要替换的位置预留一个特殊的标记 根据files生成需要的html内容  server.on(‘request’,function(req,res){ Fs.readfile(‘/‘.function(err,data){ If(err){ Return res.end(‘404 not found’) } Res.end(data) } fs.readdir(‘/‘,function(err, files){ If(err){} Var content=` ` Files.forEach(function(item){ content+=`&lt;tr&gt;//${item}/&lt;/tr&gt; } data=data.toString() data=data.replace(data&amp;,content) Res.end(data) } })  ${}可以用来引用变量  ...
                            </p>
                            <div class="article-list-footer">
                                <span class="article-list-date">
                                    18-06-20
                                </span>
                            </div>
                        </li>
                    
                        <li class="article-list-item reveal index-post-list">
                            <a href="/post/node.js%E4%B8%AD%E7%9A%84%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98/" style="text-decoration: none;">
                                <h5 style="margin: 15px 0px 0px; padding: 0px;">
                                    Node.js中的编码问题
                                </h5>
                            </a>
                            <p>
                                node.js中的编码问题  在服务器默认发送的数据，其实是utf8编码的内容 但浏览器不知道你是utf8编码的内容 浏览器在不知道服务器响应内容的编码的情况下会按照当前操作系统的默认编码去解析 中文操作系统默认是gbk 解决方法就是正确的告诉浏览器我发送给你的内容是什么编码的 在http协议中，Content-Type就是用来告知对方数据的类型 Text/plain是普通文本 text/html是html代码 image/jpeg   如果要引用其他文件的html代码就用fs.readFile  res.setHeader(&#39;Content-Type&#39;,&#39;text/plain;charset=utf-8&#39;) res.end(&#39;你好哈哈哈哈’) else if(req.url===&#39;/login&#39;){ res.setHeader(&#39;Content-Type&#39;,&#39;text/html;charset=utf-8&#39;) res.end( &#39;&lt;a href&gt;百度&lt;/a&gt;&#39; ) } 当采用无分号的代码风格时，需要注意
 当一行代码是以：（ [ ` 开头的时候要加分号  ...
                            </p>
                            <div class="article-list-footer">
                                <span class="article-list-date">
                                    18-06-20
                                </span>
                            </div>
                        </li>
                    
                        <li class="article-list-item reveal index-post-list">
                            <a href="/post/node.js%E4%B8%AD%E8%8E%B7%E5%8F%96ip%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7/" style="text-decoration: none;">
                                <h5 style="margin: 15px 0px 0px; padding: 0px;">
                                    Node.js中获取IP地址和端口号
                                </h5>
                            </a>
                            <p>
                                 IP地址用来定位计算机， 端口号用来定位具体的应用程序 所有需要联网的软件都需要有端口号  server.on(&#39;request&#39;,function (request,response) { console.log(&#39;请求的路径是：&#39;+request.socket.remoteAddress)   端口号是: request.socket.remotePort
  端口号的范围：0—65536
  在计算机中有一些默认你的端口号，不要去使用:例如http服务的80
  ...
                            </p>
                            <div class="article-list-footer">
                                <span class="article-list-date">
                                    18-06-20
                                </span>
                            </div>
                        </li>
                    
                        <li class="article-list-item reveal index-post-list">
                            <a href="/post/node.js%E4%B8%AD%E7%AE%80%E5%8D%95%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96/" style="text-decoration: none;">
                                <h5 style="margin: 15px 0px 0px; padding: 0px;">
                                    Node.js中简单的模块化
                                </h5>
                            </a>
                            <p>
                                 用require来引用别的文件  require（’./b.js’）//可以省略后缀名js 2. node中没有全局作用域，只有模块作用域//外部不能访问内部，内部不能访问外部！//文件作用域 3. require方法有两个作用：
   加载文件并执行里面的代码    拿到被加载文件模块导出的接口对象     每一个文件模块中都提供了一个对象：exports exports默认是一个空对象 你要做的就是把所有需要被外部访问的成员挂载到exports对象中。 a.js  var bExport=require(&#39;./demo例子&#39;) console.log(bExport.add(2,3)) b.js exports.add=function(a,b) { return a*b; } ...
                            </p>
                            <div class="article-list-footer">
                                <span class="article-list-date">
                                    18-06-20
                                </span>
                            </div>
                        </li>
                    
                        <li class="article-list-item reveal index-post-list">
                            <a href="/post/node-js%E4%B8%AD%E7%9A%84%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6/" style="text-decoration: none;">
                                <h5 style="margin: 15px 0px 0px; padding: 0px;">
                                    Node.js中的读写文件
                                </h5>
                            </a>
                            <p>
                                 node中的js具有文件操作的能力  var fs=require（’fs’）//使用require方法加载fs核心模块 fs.readFile(‘./demo.txt’,function(error,data){ console.log() }  有两个参数，第一个是文件路径，第二个是一个回调函数。 function的两个参数： 成功 data--数据 error--null 失败 data—null error--错误对象  node写入文件  var fs=require（’fs’） fs.writeFile(‘./demo1.txt’,’hellohowareyou’,’function(error){ If(error) { console.log(‘fail&#39;) } Else(){console.log(’SUCCESS!’)}   有三个参数：路径，内容，回调函数
  成功： error是null
  失败： error是错误对象
  Node为js提供了很多服务器级别的API，这些API绝大多数都被包装到了一个具名 的核心模块中，例如文件操作的fs模块，http服务器构建的http模块，path路径操作模块，os操作信息模块。
  ...
                            </p>
                            <div class="article-list-footer">
                                <span class="article-list-date">
                                    18-06-20
                                </span>
                            </div>
                        </li>
                    
                        <li class="article-list-item reveal index-post-list">
                            <a href="/post/node.js%E4%B8%AD%E7%9A%84http%E6%9C%8D%E5%8A%A1/" style="text-decoration: none;">
                                <h5 style="margin: 15px 0px 0px; padding: 0px;">
                                    Node.js中的http服务
                                </h5>
                            </a>
                            <p>
                                构建一个web服务器
在node中提供了一个核心模块：http（创建编写服务器）
 加载http核心模块 var http=require（’http’） 创建一个web服务器，返回一个server实例 var server=http.createServer( ) 服务器要干嘛   提供服务 发请求 接受请求 处理请求 给个反馈（发送响应） 注册request请求事件 当客户端请求过来，就会自动触发服务器的request请求事件，然后执行第二个参数（回调函数） server.on(‘request’, function(request, response){}） response可以向客户端响应内容 reponse.write('') 结尾一定要加 reponse.end( ) 否则无法响应！！！！！ response.end()  上面这种方式几乎不用，要用到
 response.end('') 4.绑定端口号，启动服务器 server.listen(3000,function(){})  ...
                            </p>
                            <div class="article-list-footer">
                                <span class="article-list-date">
                                    18-06-20
                                </span>
                            </div>
                        </li>
                    
                    </ul>
                </div>
            </div>
        </div>
    </body>
    <div>
    <a href="" target="_blank" style="text-decoration:none">
        <div class="goup-container footer-github">
            <i class="ri-github-fill footer-github-icon"></i>
        </div>
    </a>
    <div class="footer reveal">
        
            <p>
                Copyright&nbsp;<i class="ri-copyright-line"></i>&nbsp;·&nbsp;2020&nbsp;·&nbsp;This is Janny&nbsp;·&nbsp;
                <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" style="text-decoration: none;color: inherit;font-size: 14px;font-weight: 500;">
                    CC BY-NC 4.0
                </a>
            </p>
        
        <p>
            
                Powered by <a href="https://github.com/gohugoio/hugo">Hugo</a> | Theme is <a href="https://github.com/ThemeTony/hugo-theme-tony">Tony</a>
            
        </p>
    </div>
</div>


    <script src="/js/jquery.min.js"></script><script src="/js/tony.min.21fb28b08edccb7a220a2a53f8fa67ba2f62588d04437e5a3998769b79537006.js" integrity="sha256-IfsosI7cy3oiCipT+Ppnui9iWI0EQ35aOZh2m3lTcAY="></script><script src="/js/medium-zoom.min.js"></script>
<script>
	mediumZoom(document.querySelectorAll('div.article-content img'), {
        background: '#fff'
    });
</script>


    
<script>
(function(){
	var bp = document.createElement('script');
	var curProtocol = window.location.protocol.split(':')[0];
	if (curProtocol === 'https'){
	 bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
	}
	else{
	bp.src = 'http://push.zhanzhang.baidu.com/push.js';
	}
	var s = document.getElementsByTagName("script")[0];
	s.parentNode.insertBefore(bp, s);
})();
</script>



</html>
